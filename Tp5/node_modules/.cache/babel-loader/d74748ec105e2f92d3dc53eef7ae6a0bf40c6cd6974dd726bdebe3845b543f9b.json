{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_EditJob = _resolveComponent(\"EditJob\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"h1\", null, \"emploi.ma\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"addJob\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.editJob(0))\n  }, \"Ajouter un emploi\")]), _cache[12] || (_cache[12] = _createElementVNode(\"span\", {\n    style: {\n      \"margin-bottom\": \"17px\",\n      \"text-align\": \"left\"\n    }\n  }, \"* Click on job to see description, click again to go back.\", -1 /* HOISTED */)), _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.jobs, job => {\n    return _openBlock(), _createElementBlock(\"section\", {\n      class: \"job-card\",\n      key: job.id,\n      onClick: $event => $options.toggleDetail(job.id)\n    }, [!$data.showDetail[job.id] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"span\", null, _toDisplayString(job.titre), 1 /* TEXT */), _cache[3] || (_cache[3] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[4] || (_cache[4] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createElementVNode(\"button\", {\n      onClick: $event => $options.editJob(job)\n    }, \"Modifier\", 8 /* PROPS */, _hoisted_6), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteJob(job.id)\n    }, \"Supprimer\", 8 /* PROPS */, _hoisted_7)])) : _createCommentVNode(\"v-if\", true), $data.showDetail[job.id] ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"Description:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(job.description) + \" \", 1 /* TEXT */), _cache[6] || (_cache[6] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[7] || (_cache[7] = _createElementVNode(\"span\", null, \"Salaire:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(job.salaire) + \" \", 1 /* TEXT */), _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[9] || (_cache[9] = _createElementVNode(\"span\", null, \"Contrat:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(job.type_contrat) + \" \", 1 /* TEXT */), _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */))])) : _createCommentVNode(\"v-if\", true)], 8 /* PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))]), $data.selectedJob ? (_openBlock(), _createBlock(_component_EditJob, {\n    key: 0,\n    job: $data.selectedJob,\n    onUpdateJob: $options.updateJob,\n    onClose: _cache[1] || (_cache[1] = $event => $data.selectedJob = null)\n  }, null, 8 /* PROPS */, [\"job\", \"onUpdateJob\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","$event","$options","editJob","style","_hoisted_3","_Fragment","_renderList","$data","jobs","job","id","toggleDetail","showDetail","_hoisted_5","_toDisplayString","titre","_hoisted_6","deleteJob","_hoisted_7","_createCommentVNode","_hoisted_8","_createTextVNode","description","salaire","type_contrat","_hoisted_4","selectedJob","_createBlock","_component_EditJob","onUpdateJob","updateJob","onClose"],"sources":["/workspaces/Javascript_submissions/Tp5/src/components/HomePage.vue"],"sourcesContent":["<template>\r\n    <div class=\"home\">\r\n      <div class=\"header\">\r\n        <h1>emploi.ma</h1>\r\n        <button class=\"addJob\" @click=\"editJob(0)\">Ajouter un emploi</button>\r\n      </div>\r\n      <span style=\"margin-bottom: 17px; text-align: left;\">* Click on job to see description, click again to go back.</span>\r\n      <br><br>\r\n      <div class=\"container\">\r\n        <section class=\"job-card\" v-for=\"job in jobs\" :key=\"job.id\" @click=\"toggleDetail(job.id)\" >\r\n          <div v-if=\"!showDetail[job.id]\">\r\n            <span>{{ job.titre }} </span><br><br>\r\n           <button @click=\"editJob(job)\">Modifier</button>\r\n           <button @click=\"deleteJob(job.id)\">Supprimer</button>\r\n          </div>\r\n          <div v-if=\"showDetail[job.id]\">\r\n            <span>Description:</span> {{ job.description }} <br>\r\n           <span>Salaire:</span> {{ job.salaire }} <br>\r\n           <span>Contrat:</span> {{ job.type_contrat }} <br><br>\r\n          </div>\r\n        </section>\r\n      </div>\r\n      <EditJob v-if=\"selectedJob\" \r\n             :job=\"selectedJob\" \r\n             @update-job=\"updateJob\"\r\n             @close=\"selectedJob = null\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport EditJob from \"@/components/EditJob.vue\";\r\nexport default{\r\n  components: { EditJob },\r\n  data(){\r\n    return{\r\n      jobs: [],\r\n      showDetail: new Array(8).fill(false),\r\n      selectedJob: null\r\n    }\r\n  },\r\n  methods: {\r\n    deleteJob(id) {\r\n      if (confirm(\"Do you want to delete this job?\")) {\r\n        let index = this.jobs.findIndex(job => job.id === id);\r\n        if (index !== -1) {\r\n          this.jobs.splice(index, 1);\r\n        }\r\n      }\r\n    },\r\n    toggleDetail(id){\r\n      this.showDetail[id] = !this.showDetail[id];   \r\n    },\r\n    editJob(job) {\r\n      if(!job){\r\n        this.selectedJob = {\r\n          \"id\":this.jobs.length +1 ,\r\n          \"titre\": \"\",\r\n          \"description\": \"\",\r\n          \"salaire\": \"\",\r\n          \"date_creation\": \"\",\r\n          \"localisation\": \"\",\r\n          \"type_contrat\": \"\"\r\n        };\r\n      }else{\r\n        this.selectedJob = job;\r\n      }\r\n       // Open the edit form\r\n    },\r\n    updateJob(updatedJob) {\r\n      let index = this.jobs.findIndex(job => job.id === updatedJob.id);\r\n      if (index !== -1) {\r\n        this.jobs[index] = updatedJob;\r\n        alert(\"Job modified!\");\r\n      }else{\r\n        this.jobs.push(updatedJob);\r\n        alert(\"Job Added!\");\r\n      }\r\n      this.selectedJob = null; // Close form after saving\r\n    }\r\n  \r\n  },\r\n  mounted() {\r\n      fetch(\"/jobsApp.json\")\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          this.jobs= data; \r\n        })\r\n        .catch(error => console.error(\"Error loading JSON:\", error));\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n.header,.addJob{\r\n  font-family:Verdana, Geneva, Tahoma, sans-serif;\r\n  background-color: #2c3e50;\r\n  color: white;\r\n  margin-top: 0;\r\n  margin-bottom: 20px;\r\n  height: 60px;\r\n  border-radius: 10px;\r\n  text-align: center;\r\n  justify-content:space-between;\r\n  display: flex;\r\n  padding: 4px;\r\n}\r\n.addJob{\r\n  font-weight: bold;\r\n  width: 100px;\r\n}\r\nspan{\r\n  font-weight: bold;\r\n}\r\n.container{\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: auto;\r\n  gap: 10px;\r\n  justify-content: center;\r\n}\r\n.job-card{\r\n  font-family:Verdana, Geneva, Tahoma, sans-serif;\r\n  border-style: solid;\r\n  border-radius: 10px;\r\n  height: 190px;\r\n  width: 290px;\r\n  margin-bottom: 10px;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  padding: 6px;\r\n  cursor: pointer;\r\n}\r\n.job-card:hover{\r\n  background-color:#2c3e50;\r\n  color: white;\r\n  transition: ease-in 0.3s;\r\n  transform: translateY(-5px);\r\n  box-shadow: 4px 4px 20px rgba(0, 0, 0, 0.4);}\r\nbutton{\r\n  height: 34px;\r\n  width: 80px;\r\n  margin-right: 4px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  background-color: rgb(205, 77, 8);\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAQ;;EAMdA,KAAK,EAAC;AAAW;mBAR5B;;EAAAC,GAAA;AAAA;mBAAA;mBAAA;;EAAAA,GAAA;AAAA;;;uBACIC,mBAAA,CAyBM,OAzBNC,UAyBM,GAxBJC,mBAAA,CAGM,OAHNC,UAGM,G,0BAFJD,mBAAA,CAAkB,YAAd,WAAS,sBACbA,mBAAA,CAAqE;IAA7DJ,KAAK,EAAC,QAAQ;IAAEM,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,OAAO;KAAK,mBAAiB,E,+BAE9DN,mBAAA,CAAsH;IAAhHO,KAA8C,EAA9C;MAAA;MAAA;IAAA;EAA8C,GAAC,4DAA0D,sB,4BAC/GP,mBAAA,CAAI,sC,4BAAAA,mBAAA,CAAI,sCACRA,mBAAA,CAaM,OAbNQ,UAaM,I,kBAZJV,mBAAA,CAWUW,SAAA,QApBlBC,WAAA,CASgDC,KAAA,CAAAC,IAAI,EAAXC,GAAG;yBAApCf,mBAAA,CAWU;MAXDF,KAAK,EAAC,UAAU;MAAsBC,GAAG,EAAEgB,GAAG,CAACC,EAAE;MAAGZ,OAAK,EAAAE,MAAA,IAAEC,QAAA,CAAAU,YAAY,CAACF,GAAG,CAACC,EAAE;SACzEH,KAAA,CAAAK,UAAU,CAACH,GAAG,CAACC,EAAE,K,cAA7BhB,mBAAA,CAIM,OAdhBmB,UAAA,GAWYjB,mBAAA,CAA6B,cAAAkB,gBAAA,CAApBL,GAAG,CAACM,KAAK,kB,0BAAWnB,mBAAA,CAAI,sC,0BAAAA,mBAAA,CAAI,sCACtCA,mBAAA,CAA+C;MAAtCE,OAAK,EAAAE,MAAA,IAAEC,QAAA,CAAAC,OAAO,CAACO,GAAG;OAAG,UAAQ,iBAZjDO,UAAA,GAaWpB,mBAAA,CAAqD;MAA5CE,OAAK,EAAAE,MAAA,IAAEC,QAAA,CAAAgB,SAAS,CAACR,GAAG,CAACC,EAAE;OAAG,WAAS,iBAbvDQ,UAAA,E,KAAAC,mBAAA,gBAeqBZ,KAAA,CAAAK,UAAU,CAACH,GAAG,CAACC,EAAE,K,cAA5BhB,mBAAA,CAIM,OAnBhB0B,UAAA,G,0BAgBYxB,mBAAA,CAAyB,cAAnB,cAAY,sBAhB9ByB,gBAAA,CAgBqC,GAAC,GAAAP,gBAAA,CAAGL,GAAG,CAACa,WAAW,IAAG,GAAC,iB,0BAAA1B,mBAAA,CAAI,sC,0BACrDA,mBAAA,CAAqB,cAAf,UAAQ,sBAjBzByB,gBAAA,CAiBgC,GAAC,GAAAP,gBAAA,CAAGL,GAAG,CAACc,OAAO,IAAG,GAAC,iB,0BAAA3B,mBAAA,CAAI,sC,0BAC5CA,mBAAA,CAAqB,cAAf,UAAQ,sBAlBzByB,gBAAA,CAkBgC,GAAC,GAAAP,gBAAA,CAAGL,GAAG,CAACe,YAAY,IAAG,GAAC,iB,4BAAA5B,mBAAA,CAAI,sC,4BAAAA,mBAAA,CAAI,qC,KAlBhEuB,mBAAA,e,iBAAAM,UAAA;oCAsBqBlB,KAAA,CAAAmB,WAAW,I,cAA1BC,YAAA,CAGqCC,kBAAA;IAzB3CnC,GAAA;IAuBcgB,GAAG,EAAEF,KAAA,CAAAmB,WAAW;IAChBG,WAAU,EAAE5B,QAAA,CAAA6B,SAAS;IACrBC,OAAK,EAAAhC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEO,KAAA,CAAAmB,WAAW;qDAzBhCP,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}