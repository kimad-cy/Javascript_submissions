{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nexport default {\n  data() {\n    return {\n      pieces: [],\n      cart: [],\n      filtre1: \"\",\n      filtre2: \"\",\n      filtre3: \"\",\n      search: \"\"\n    };\n  },\n  methods: {\n    addToCart(piece) {\n      this.cart.push(piece);\n    },\n    removeFromCart(elem) {\n      this.cart = this.cart.filter(item => item.id !== elem.id);\n    }\n  },\n  mounted() {\n    fetch(\"/pieces-autos.json\").then(response => response.json()).then(data => {\n      this.pieces = data;\n    }).catch(error => console.error(\"Error loading JSON:\", error));\n  },\n  computed: {\n    filteredAndSorted() {\n      let filtered = [];\n      if (!this.filtre1 && !this.filter2 && !this.filtre3) {\n        filtered = this.pieces.filter(piece => piece.dispo === true);\n      } else {\n        filtered = [...this.pieces];\n      }\n      if (this.search) {\n        filtered = filtered.filter(piece => piece.nom.toLowerCase().includes(this.search.toLowerCase()));\n      }\n      if (this.filtre1) {\n        filtered = filtered.filter(piece => piece.categorie === this.filtre1);\n      }\n      if (this.filtre2 !== '') {\n        filtered = filtered.filter(piece => piece.dispo === (this.filtre2 === 'true'));\n      }\n      if (this.filtre3 === 'asc') {\n        filtered.sort((a, b) => a.prix - b.prix);\n      } else if (this.filtre3 === 'desc') {\n        filtered.sort((a, b) => b.prix - a.prix);\n      }\n      return filtered;\n    }\n  }\n};","map":{"version":3,"names":["data","pieces","cart","filtre1","filtre2","filtre3","search","methods","addToCart","piece","push","removeFromCart","elem","filter","item","id","mounted","fetch","then","response","json","catch","error","console","computed","filteredAndSorted","filtered","filter2","dispo","nom","toLowerCase","includes","categorie","sort","a","b","prix"],"sources":["/workspaces/Javascript_submissions/Tp4/src/App.vue"],"sourcesContent":["\n<template>\n  <div id=\"app\">\n    <header>\n      <img src=\"images/logo-a.jpg\" id=\"logo\">\n      <h1>Les Bonnes Pièces</h1>\n    </header>\n\n    <main>\n      <section class=\"filtres\">\n        <h3>Recherche</h3>\n        <input type=\"text\" v-model=\"search\" placeholder=\"Rechercher...\">\n        <h3>Filtres</h3>\n  \n         <select name=\"\" id=\"\" v-model=\"filtre1\">\n          <option value=\"\">Par categorie</option>\n          <option value=\"Électricité\">Électricité</option>\n          <option value=\"Filtration\">Filtration</option>\n          <option value=\"Moteur\">Moteur</option>\n          <option value=\"Freinage\">Freinage</option>\n          <option value=\"Refroidissement\">Refroidissement</option>\n          <option value=\"Suspension\">Suspension</option>\n          <option value=\"Sécurité\">Sécurité</option>\n          <option value=\"Transmission\">Transmission</option>\n          <option value=\"Carburant\">Carburant</option>\n          <option value=\"Carrosserie\">Carrosserie</option>\n          <option value=\"Échappement\">Échappement</option>\n          <option value=\"Direction\">Direction</option>\n         </select>\n         <br>\n         <br>\n         <select name=\"\" id=\"\" v-model=\"filtre2\">\n          <option value=\"\">Par disponibilité</option>\n          <option value=\"true\">Disponible</option>\n          <option value=\"false\">Pas disponible</option>\n         </select>\n         <br><br>\n         <select name=\"\" id=\"\" v-model=\"filtre3\">\n          <option value=\"\">Par prix</option>\n          <option value=\"asc\">Croissant</option>\n          <option value=\"desc\">Decroissant</option>\n         </select>\n         <br><br>\n         <h3>Panier</h3>\n         <div v-for=\"elem in cart\" :key=\"elem.id\">\n            <div class=\"piece-content\" >\n              <img :src=\"`images/${elem.image}`\" class=\"piece-image\" />\n              <p > {{ elem.nom }}  \n                <br> Categorie: {{ elem.categorie }} \n                <br><span style=\"color: green; font-weight: bold;\">Price:</span>  {{ elem.prix }} $\n                <br><span style=\"color: red;\">{{elem.dispo ? 'Disponible' : 'Pas disponible'}}</span>\n              </p>\n              <button @click.prevent=\"removeFromCart(elem)\">Supprimer du panier</button>\n            </div>\n\n         </div>\n      </section>\n\n      <section class=\"fiches\" >\n        <div v-for=\"piece in filteredAndSorted\" :key=\"piece.id\">\n          <div  class=\"piece-card\">\n            <div  class=\"piece-content\">\n              <img :src=\"`images/${piece.image}`\" class=\"piece-image\" />\n              <p > {{ piece.nom }}  \n                <br> Categorie: {{ piece.categorie }} \n                <br><span style=\"color: green; font-weight: bold;\">Price:</span>  {{ piece.prix }} $\n                <br><span style=\"color: red;\">{{piece.dispo ? 'Disponible' : 'Pas disponible'}}</span>\n              </p>\n              <button @click.prevent=\"addToCart(piece)\">Ajouter au panier</button>\n                \n            </div>\n        </div>\n\n        </div>\n        \n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        pieces: [], \n        cart: [],\n        filtre1:\"\" ,\n        filtre2: \"\",\n        filtre3:\"\",\n        search: \"\"\n      };\n    },\n    methods: {\n      addToCart(piece){\n        this.cart.push(piece);\n      },\n      removeFromCart(elem) {\n        this.cart = this.cart.filter(item => item.id !== elem.id);\n      }\n      \n    },\n    mounted() {\n      \n      fetch(\"/pieces-autos.json\")\n        .then(response => response.json())\n        .then(data => {\n          this.pieces = data; \n        })\n        .catch(error => console.error(\"Error loading JSON:\", error));\n    },\n\n    computed: {\n      filteredAndSorted() {\n        let filtered = [];\n        if(!this.filtre1 && !this.filter2 && !this.filtre3){\n          filtered = this.pieces.filter(piece => piece.dispo === true); \n        }else{\n          filtered = [...this.pieces];\n        }\n\n        \n        if (this.search) {\n          filtered = filtered.filter(piece =>\n            piece.nom.toLowerCase().includes(this.search.toLowerCase())\n          );\n        }\n\n        \n        if (this.filtre1) {\n          filtered = filtered.filter(piece => piece.categorie === this.filtre1);\n        }\n\n        \n        if (this.filtre2 !== '') {\n          filtered = filtered.filter(piece => piece.dispo === (this.filtre2 === 'true'));\n        }\n\n        \n        if (this.filtre3 === 'asc') {\n          filtered.sort((a, b) => a.prix - b.prix); \n        } else if (this.filtre3 === 'desc') {\n          filtered.sort((a, b) => b.prix - a.prix); \n        }\n\n        return filtered; \n      }\n  }\n\n\n    \n  };\n</script>\n\n<style scoped>\n\n@import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');\n\nbody {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  margin: 0;\n  padding: 16px;\n  background-color: #f4f4f4;\n}\n\nheader {\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n  background-color: rgb(243, 121, 50);\n  color: rgb(64, 64, 75);\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}\n\nheader img {\n  height: auto;\n  width:170px;\n  margin-right: 16px;\n}\n\nheader h1 {\n  font-size: 24px;\n  text-align: center;\n}\n\nmain {\n  display: flex;\n  flex-direction: row;\n  gap: 30px;\n  justify-content: space-between;\n  padding-top: 16px;\n}\n\n.filtres {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  width: 550px;\n  background-color: #ffffff;\n  padding: 16px;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  color: rgb(64, 64, 75);\n}\n.filtres input, .filtres select{\n  width: 90%;\n  height: 30px;\n  border-radius: 4px;\n  border:solid;\n  border-width: 1px;\n  border-color: grey;\n}\n\n.fiches {\n  width: 65%;\n}\n\n.piece-card {\n  width: 550px;\n  background-color: white;\n  padding: 16px;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  text-align: center;\n  margin-bottom: 5px;\n}\nbutton{\n  background-color: rgb(243, 121, 50);\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-weight: bold;\n  padding: 8px;\n  cursor: pointer;\n\n}\nbutton:hover{\n  background-color: #ee9b64;\n}\n\n\n.piece-content {\n  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  display: flex;\n  align-items: center;  \n  justify-content:space-between;\n  gap: 16px;  \n}\n\n\n.piece-image {\n  width: 100px;  \n  height: auto;\n\n}\n</style>\n"],"mappings":";;;AAiFE,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAC,EAAC;MACTC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAC,EAAE;MACVC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,SAASA,CAACC,KAAK,EAAC;MACd,IAAI,CAACP,IAAI,CAACQ,IAAI,CAACD,KAAK,CAAC;IACvB,CAAC;IACDE,cAAcA,CAACC,IAAI,EAAE;MACnB,IAAI,CAACV,IAAG,GAAI,IAAI,CAACA,IAAI,CAACW,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,EAAC,KAAMH,IAAI,CAACG,EAAE,CAAC;IAC3D;EAEF,CAAC;EACDC,OAAOA,CAAA,EAAG;IAERC,KAAK,CAAC,oBAAoB,EACvBC,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAChCF,IAAI,CAAClB,IAAG,IAAK;MACZ,IAAI,CAACC,MAAK,GAAID,IAAI;IACpB,CAAC,EACAqB,KAAK,CAACC,KAAI,IAAKC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC,CAAC;EAChE,CAAC;EAEDE,QAAQ,EAAE;IACRC,iBAAiBA,CAAA,EAAG;MAClB,IAAIC,QAAO,GAAI,EAAE;MACjB,IAAG,CAAC,IAAI,CAACvB,OAAM,IAAK,CAAC,IAAI,CAACwB,OAAM,IAAK,CAAC,IAAI,CAACtB,OAAO,EAAC;QACjDqB,QAAO,GAAI,IAAI,CAACzB,MAAM,CAACY,MAAM,CAACJ,KAAI,IAAKA,KAAK,CAACmB,KAAI,KAAM,IAAI,CAAC;MAC9D,CAAC,MAAI;QACHF,QAAO,GAAI,CAAC,GAAG,IAAI,CAACzB,MAAM,CAAC;MAC7B;MAGA,IAAI,IAAI,CAACK,MAAM,EAAE;QACfoB,QAAO,GAAIA,QAAQ,CAACb,MAAM,CAACJ,KAAI,IAC7BA,KAAK,CAACoB,GAAG,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACzB,MAAM,CAACwB,WAAW,CAAC,CAAC,CAC5D,CAAC;MACH;MAGA,IAAI,IAAI,CAAC3B,OAAO,EAAE;QAChBuB,QAAO,GAAIA,QAAQ,CAACb,MAAM,CAACJ,KAAI,IAAKA,KAAK,CAACuB,SAAQ,KAAM,IAAI,CAAC7B,OAAO,CAAC;MACvE;MAGA,IAAI,IAAI,CAACC,OAAM,KAAM,EAAE,EAAE;QACvBsB,QAAO,GAAIA,QAAQ,CAACb,MAAM,CAACJ,KAAI,IAAKA,KAAK,CAACmB,KAAI,MAAO,IAAI,CAACxB,OAAM,KAAM,MAAM,CAAC,CAAC;MAChF;MAGA,IAAI,IAAI,CAACC,OAAM,KAAM,KAAK,EAAE;QAC1BqB,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,IAAG,GAAID,CAAC,CAACC,IAAI,CAAC;MAC1C,OAAO,IAAI,IAAI,CAAC/B,OAAM,KAAM,MAAM,EAAE;QAClCqB,QAAQ,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,IAAG,GAAIF,CAAC,CAACE,IAAI,CAAC;MAC1C;MAEA,OAAOV,QAAQ;IACjB;EACJ;AAIA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}